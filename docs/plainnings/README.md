# **‚öõÔ∏è Quark**

**Quark** is a high-performance, distributed virtual actor framework built for **.NET 10+** with a focus on **Native AOT**, ultra-low latency, and modern developer experience.

Inspired by Microsoft Orleans and Akka.NET, Quark aims to bridge the gap between "Virtual Actors" and "Supervision Hierarchies" while maintaining a zero-reflection, hardware-accelerated footprint.

## **üöÄ Key Philosophies**

* **AOT First:** No Reflection.Emit. Everything is generated at build time via Incremental Source Generators.  
* **Secure by Default:** UDP-based communication via QUIC (TLS 1.3).  
* **Control & Density:** Explicit lifecycle management to support high-density container environments.  
* **Plug-and-Play:** Modular persistence and clustering providers.

## **üó∫Ô∏è Development Roadmap**

### **Phase 1: The Core "Static" Engine (Local Runtime)**

*Focus: AOT-compatible code generation and basic actor lifecycle.*

* \[ \] **Source Generator V1:** Incremental generator for \[QuarkActor\] attributes.  
* \[ \] **Turn-based Mailbox:** High-performance messaging via System.Threading.Channels.  
* \[ \] **Explicit Lifecycle:** Support for ActivateAsync and DeactivateAsync (Explicit Stop).  
* \[ \] **Local Context:** Request ID and Metadata propagation for tracing.

### **Phase 2: The Cluster & Networking Layer**

*Focus: Silo-to-Silo communication over encrypted UDP.*

* \[ \] **Full Mesh Transport:** gRPC over HTTP/3 (QUIC) for encrypted datagrams.  
* \[ \] **Silo Membership:** Distributed Silo table (Redis/SQL/K8s) for node discovery.  
* \[ \] **Location Transparency:** Routing logic to locate and invoke actors across the mesh.  
* \[ \] **Placement Policies:** \- Random (Orleans style)  
  * Prefer Local (Minimize hops)  
  * Stateless Workers (Auto-scaling pool)

### **Phase 3: Reliability & Supervision (The "Power" Layer)**

*Focus: Advanced failure handling and reentrancy.*

* \[ \] **Supervision Trees:** Akka-style Parent-Child hierarchies within the Virtual Actor model.  
* \[ \] **Call-Chain Reentrancy:** Prevent deadlocks in circular actor calls using Chain IDs.  
* \[ \] **Consistent Hashing:** Predictable actor placement and rebalancing on cluster changes.  
* \[ \] **Cluster Health:** Advanced heartbeat monitoring and automatic silo eviction.

### **Phase 4: Persistence & Temporal Services**

*Focus: Making state and time durable.*

* \[ \] **Reminders:** Persistent, distributed timers that survive cluster reboots.  
* \[ \] **Timers:** Lightweight, in-memory volatile timers.  
* \[ \] **State Providers:** AOT-safe storage for SQL, Redis, and Mongo using JSON Source Generators.  
* \[ \] **Event Sourcing:** Native journaling support for audit-logs and state replay.

### **Phase 5: Reactive Streaming**

*Focus: Decoupled data broadcasting.*

* \[ \] **Explicit Streams:** Manual Pub/Sub via StreamID.  
* \[ \] **Implicit Streams:** Automatically activate actors based on stream namespaces.  
* \[ \] **Backpressure:** Adaptive flow control for slow consumers.

## **üèóÔ∏è Project Structure**

* Quark.Abstractions: Core interfaces, attributes, and shared models. (No dependencies).  
* Quark.Generators: The Roslyn Incremental Source Generator.  
* Quark.Core: The actor runtime, mailbox, and local scheduling.  
* Quark.Transport.Quic: UDP/QUIC networking implementation.  
* Quark.Clustering.\*: Membership providers (Redis, Kubernetes, etc.).

## **üõ†Ô∏è Requirements**

* .NET 10.0 SDK+  
* Visual Studio 2026 or JetBrains Rider  
* (Optional) Docker for local clustering tests

## **ü§ù Contributing**

Quark is currently in **Phase 0 (Architectural Planning)**. We welcome architectural feedback and discussions regarding the gRPC/QUIC transport layer.

*Generated by the Quark Development Team.*
